<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>๐ ููุญุฉ ุชุญูู ุงูุชุฑุงุฎูุต ุงูุงุญุชุฑุงููุฉ - Professional License Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
</head>
<body>
    <!-- Login Modal -->
    <div class="modal fade" id="loginModal" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title">
                        <i class="fas fa-shield-alt me-2"></i>
                        ุชุณุฌูู ุงูุฏุฎูู - Admin Login
                    </h5>
                </div>
                <div class="modal-body">
                    <form id="loginForm">
                        <div class="mb-3">
                            <label for="username" class="form-label">ุงุณู ุงููุณุชุฎุฏู - Username</label>
                            <input type="text" class="form-control" id="username" placeholder="admin" required>
                        </div>
                        <div class="mb-3">
                            <label for="password" class="form-label">ูููุฉ ุงููุฑูุฑ - Password</label>
                            <input type="password" class="form-control" id="password" placeholder="โขโขโขโขโขโขโขโข" required>
                        </div>
                        <div class="alert alert-danger d-none" id="loginError">
                            ุฎุทุฃ ูู ุงุณู ุงููุณุชุฎุฏู ุฃู ูููุฉ ุงููุฑูุฑ
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onclick="login()">
                        <i class="fas fa-sign-in-alt me-2"></i>
                        ุฏุฎูู - Login
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div id="dashboard" class="d-none">
        <!-- Navigation -->
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">
                    <i class="fas fa-crown me-2"></i>
                    ููุญุฉ ุชุญูู ุงูุชุฑุงุฎูุต ุงูุงุญุชุฑุงููุฉ
                </a>
                <div class="navbar-nav ms-auto">
                    <span class="navbar-text me-3">
                        <i class="fas fa-user me-1"></i>
                        ูุฑุญุจุงู Admin
                    </span>
                    <button class="btn btn-outline-light btn-sm" onclick="logout()">
                        <i class="fas fa-sign-out-alt me-1"></i>
                        ุฎุฑูุฌ
                    </button>
                </div>
            </div>
        </nav>

        <!-- Statistics Cards -->
        <div class="container-fluid mt-4">
            <div class="row">
                <div class="col-md-3">
                    <div class="card stat-card bg-primary text-white">
                        <div class="card-body">
                            <div class="d-flex justify-content-between">
                                <div>
                                    <h5>ุฅุฌูุงูู ุงูุชุฑุงุฎูุต</h5>
                                    <h2 id="totalLicenses">0</h2>
                                </div>
                                <div class="stat-icon">
                                    <i class="fas fa-key fa-2x"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card stat-card bg-success text-white">
                        <div class="card-body">
                            <div class="d-flex justify-content-between">
                                <div>
                                    <h5>ุงูุชุฑุงุฎูุต ุงููุดุทุฉ</h5>
                                    <h2 id="activeLicenses">0</h2>
                                </div>
                                <div class="stat-icon">
                                    <i class="fas fa-check-circle fa-2x"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card stat-card bg-warning text-white">
                        <div class="card-body">
                            <div class="d-flex justify-content-between">
                                <div>
                                    <h5>ุงูุชุฑุงุฎูุต ุงูููุชููุฉ</h5>
                                    <h2 id="expiredLicenses">0</h2>
                                </div>
                                <div class="stat-icon">
                                    <i class="fas fa-clock fa-2x"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card stat-card bg-info text-white">
                        <div class="card-body">
                            <div class="d-flex justify-content-between">
                                <div>
                                    <h5>ุฅุฌูุงูู ุงูุฃุฌูุฒุฉ</h5>
                                    <h2 id="totalDevices">0</h2>
                                </div>
                                <div class="stat-icon">
                                    <i class="fas fa-desktop fa-2x"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Content Tabs -->
            <div class="row mt-4">
                <div class="col-12">
                    <ul class="nav nav-tabs" id="mainTabs">
                        <li class="nav-item">
                            <a class="nav-link active" data-bs-toggle="tab" href="#licensesTab">
                                <i class="fas fa-list me-2"></i>
                                ุฅุฏุงุฑุฉ ุงูุชุฑุงุฎูุต
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#customersTab">
                                <i class="fas fa-users me-2"></i>
                                ุฅุฏุงุฑุฉ ุงูุนููุงุก
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#createTab">
                                <i class="fas fa-plus me-2"></i>
                                ุฅูุดุงุก ุชุฑุฎูุต ุฌุฏูุฏ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#settingsTab">
                                <i class="fas fa-cog me-2"></i>
                                ุงูุฅุนุฏุงุฏุงุช
                            </a>
                        </li>
                    </ul>

                    <div class="tab-content mt-3">
                        <!-- Licenses Management Tab -->
                        <div class="tab-pane fade show active" id="licensesTab">
                            <div class="card">
                                <div class="card-header d-flex justify-content-between align-items-center">
                                    <h5><i class="fas fa-key me-2"></i>ุฅุฏุงุฑุฉ ุงูุชุฑุงุฎูุต</h5>
                                    <div>
                                        <input type="text" class="form-control d-inline-block w-auto me-2" 
                                               id="searchLicenses" placeholder="ุงูุจุญุซ...">
                                        <button class="btn btn-primary btn-sm" onclick="loadLicenses()">
                                            <i class="fas fa-sync me-1"></i>ุชุญุฏูุซ
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-hover" id="licensesTable">
                                            <thead class="table-dark">
                                                <tr>
                                                    <th>ููุชุงุญ ุงูุชุฑุฎูุต</th>
                                                    <th>ุงุณู ุงูุนููู</th>
                                                    <th>ุงููุงุชู</th>
                                                    <th>ุงูุจุฑูุฏ</th>
                                                    <th>ุงูุญุงูุฉ</th>
                                                    <th>ุงูููุน</th>
                                                    <th>ุชุงุฑูุฎ ุงูุงูุชูุงุก</th>
                                                    <th>ุงูุฃุฌูุฒุฉ</th>
                                                    <th>ุงูุฅุฌุฑุงุกุงุช</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <!-- License data will be loaded here -->
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Customers Management Tab -->
                        <div class="tab-pane fade" id="customersTab">
                            <div class="card">
                                <div class="card-header">
                                    <h5><i class="fas fa-users me-2"></i>ุฅุฏุงุฑุฉ ุงูุนููุงุก</h5>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-hover" id="customersTable">
                                            <thead class="table-dark">
                                                <tr>
                                                    <th>ุงุณู ุงูุนููู</th>
                                                    <th>ุงููุงุชู</th>
                                                    <th>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</th>
                                                    <th>ูุงุชุณุงุจ</th>
                                                    <th>ุชููุฌุฑุงู</th>
                                                    <th>ุฏูุณููุฑุฏ</th>
                                                    <th>ุนุฏุฏ ุงูุชุฑุงุฎูุต</th>
                                                    <th>ุขุฎุฑ ูุดุงุท</th>
                                                    <th>ุงูุฅุฌุฑุงุกุงุช</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <!-- Customer data will be loaded here -->
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Create New License Tab -->
                        <div class="tab-pane fade" id="createTab">
                            <div class="card">
                                <div class="card-header">
                                    <h5><i class="fas fa-plus me-2"></i>ุฅูุดุงุก ุชุฑุฎูุต ุฌุฏูุฏ</h5>
                                </div>
                                <div class="card-body">
                                    <form id="createLicenseForm">
                                        <div class="row">
                                            <div class="col-md-6">
                                                <h6 class="text-primary">ูุนูููุงุช ุงูุนููู</h6>
                                                <div class="mb-3">
                                                    <label class="form-label">ุงุณู ุงูุนููู *</label>
                                                    <input type="text" class="form-control" name="customerName" required>
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label">ุฑูู ุงููุงุชู *</label>
                                                    <input type="tel" class="form-control" name="customerPhone" required>
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
                                                    <input type="email" class="form-control" name="customerEmail">
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label">ูุงุชุณุงุจ</label>
                                                    <input type="text" class="form-control" name="whatsapp">
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label">ุชููุฌุฑุงู</label>
                                                    <input type="text" class="form-control" name="telegram">
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label">ุฏูุณููุฑุฏ</label>
                                                    <input type="text" class="form-control" name="discord">
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <h6 class="text-primary">ูุนูููุงุช ุงูุชุฑุฎูุต</h6>
                                                <div class="mb-3">
                                                    <label class="form-label">ููุน ุงูุชุฑุฎูุต *</label>
                                                    <select class="form-select" name="licenseType" required>
                                                        <option value="DEMO">DEMO (7 ุฃูุงู - ุฌูุงุฒ ูุงุญุฏ)</option>
                                                        <option value="BASIC" selected>BASIC (30 ููู - 3 ุฃุฌูุฒุฉ)</option>
                                                        <option value="PRO">PRO (365 ููู - 5 ุฃุฌูุฒุฉ)</option>
                                                        <option value="ENTERPRISE">ENTERPRISE (365 ููู - 10 ุฃุฌูุฒุฉ)</option>
                                                    </select>
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label">ุงููุฏุฉ (ุฃูุงู) *</label>
                                                    <input type="number" class="form-control" name="duration" value="30" min="1" max="3650" required>
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label">ุงูุญุฏ ุงูุฃูุตู ููุฃุฌูุฒุฉ *</label>
                                                    <input type="number" class="form-control" name="maxDevices" value="3" min="1" max="10" required>
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label">ุงูุณุนุฑ (USD) *</label>
                                                    <input type="number" class="form-control" name="price" value="29.99" step="0.01" min="0" required>
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label">ููุงุญุธุงุช</label>
                                                    <textarea class="form-control" name="notes" rows="3"></textarea>
                                                </div>
                                                <button type="submit" class="btn btn-success">
                                                    <i class="fas fa-plus me-2"></i>ุฅูุดุงุก ุงูุชุฑุฎูุต
                                                </button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>

                        <!-- Settings Tab -->
                        <div class="tab-pane fade" id="settingsTab">
                            <div class="card">
                                <div class="card-header">
                                    <h5><i class="fas fa-cog me-2"></i>ุฅุนุฏุงุฏุงุช ุงููุธุงู</h5>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <h6>ุฅุนุฏุงุฏุงุช ุงูุฃูุงู</h6>
                                            <div class="mb-3">
                                                <label class="form-label">ุชุบููุฑ ูููุฉ ุงููุฑูุฑ</label>
                                                <input type="password" class="form-control" id="newPassword" placeholder="ูููุฉ ุงููุฑูุฑ ุงูุฌุฏูุฏุฉ">
                                                <button class="btn btn-warning mt-2" onclick="changePassword()">ุชุบููุฑ ูููุฉ ุงููุฑูุฑ</button>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <h6>ุฃุฏูุงุช ุงูุจูุงูุงุช</h6>
                                            <button class="btn btn-info me-2" onclick="exportData()">
                                                <i class="fas fa-download me-1"></i>ุชุตุฏูุฑ ุงูุจูุงูุงุช
                                            </button>
                                            <button class="btn btn-primary me-2" onclick="backupData()">
                                                <i class="fas fa-save me-1"></i>ูุณุฎ ุงุญุชูุงุทู
                                            </button>
                                            <button class="btn btn-secondary" onclick="refreshGitHubData()">
                                                <i class="fab fa-github me-1"></i>ุชุญุฏูุซ ูู GitHub
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Spinner -->
    <div id="loadingSpinner" class="d-none">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">ุฌุงุฑู ุงูุชุญููู...</span>
        </div>
    </div>

    <!-- Success/Error Toast -->
    <div class="toast-container position-fixed bottom-0 end-0 p-3">
        <div id="notificationToast" class="toast" role="alert">
            <div class="toast-header">
                <i class="fas fa-info-circle me-2"></i>
                <strong class="me-auto">ุฅุดุนุงุฑ</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast"></button>
            </div>
            <div class="toast-body" id="toastMessage">
                ุฑุณุงูุฉ ุงูุฅุดุนุงุฑ
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
</body>
</html>